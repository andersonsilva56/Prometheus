PROMETHEUS - !@#Pr0metheus*@!

SELECT * FROM ATLETAS

CREATE TABLE PESSOA
(
    CODIGO DECIMAL(5) PRIMARY KEY
    ,CODIGO_TIPOPESSOA DECIMAL(5) NOT NULL
    ,NOME VARCHAR(100) NOT NULL
    ,NASCIMENTO DATE NOT NULL
    ,FOTO BYTEA
    ,EMAIL VARCHAR(80)
    ,CPF VARCHAR(15)
    ,RG VARCHAR(20)
    ,PROFISSAO VARCHAR(80)
    ,ESCOLARIDADE VARCHAR(80)
    ,PLANOSAUDE VARCHAR(80)
    ,CONTATO VARCHAR(100)
    ,TELEFONE VARCHAR(13)
    ,CELULAR VARCHAR(13)
    ,STATUS CHAR(1) NOT NULL
    ,DATAREGISTRO TIMESTAMP NOT NULL
    ,DATAATUALIZACAO TIMESTAMP
)

CREATE TABLE ATLETA
(
    CODIGO DECIMAL(5) PRIMARY KEY
    ,CODIGO_PESSOA DECIMAL(5) NOT NULL
    ,CODIGO_POSICAO DECIMAL(5) NOT NULL
    ,CODIGO_ATLETASTATUS DECIMAL(5) NOT NULL
    ,ALTURA VARCHAR(5) NOT NULL
    ,PESO VARCHAR(5) NOT NULL
    ,NUMERACAO INT NOT NULL
    ,TAMANHOUNIFORME VARCHAR(4) NOT NULL
    ,STATUS CHAR(1) NOT NULL
    ,DATAREGISTRO TIMESTAMP NOT NULL
    ,DATAATUALIZACAO TIMESTAMP NULL
)

CREATE TABLE COMISSAOTECNICA
(
    CODIGO DECIMAL(5) PRIMARY KEY
    ,CODIGO_PESSOA DECIMAL(5) NOT NULL
    ,DESCRICAO VARCHAR(20) NOT NULL
    ,STATUS CHAR(1) NOT NULL
    ,DATAREGISTRO TIMESTAMP NOT NULL
    ,DATAATUALIZACAO TIMESTAMP NULL
)

CREATE TABLE POSICAO
(
    CODIGO DECIMAL(5) PRIMARY KEY
    ,DESCRICAO VARCHAR(40) NOT NULL
    ,SIGLA VARCHAR(5) NOT NULL
    ,STATUS CHAR(1) NOT NULL
    ,DATAREGISTRO TIMESTAMP NOT NULL
    ,DATAATUALIZACAO TIMESTAMP NULL
)

CREATE TABLE NUMERACAO
(
    NUMERO DECIMAL(2) PRIMARY KEY
    ,CONTADOR INT
)

CREATE TABLE ATLETASTATUS
(
    CODIGO DECIMAL(5) PRIMARY KEY
    ,DESCRICAO VARCHAR(40) NOT NULL
    ,SIGLA VARCHAR(5) NOT NULL
    ,STATUS CHAR(1) NOT NULL
    ,DATAREGISTRO TIMESTAMP NOT NULL
    ,DATAATUALIZACAO TIMESTAMP NULL
)
CREATE SEQUENCE ATLETASTATUS_CODIGO_SEQ
INCREMENT 1
MINVALUE 1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER TABLE ATLETASTATUS ALTER COLUMN CODIGO SET DEFAULT NEXTVAL('ATLETASTATUS_CODIGO_SEQ'::regclass);

CREATE TABLE TIPOPESSOA
(
    CODIGO DECIMAL(5) PRIMARY KEY
    ,DESCRICAO VARCHAR(40) NOT NULL
    ,STATUS CHAR(1) NOT NULL
    ,DATAREGISTRO TIMESTAMP NOT NULL
    ,DATAATUALIZACAO TIMESTAMP NULL
)

CREATE TABLE FREQUENCIA
(
    CODIGO DECIMAL(5) PRIMARY KEY
    ,DIA DATE NOT NULL
    ,TIPO INT NOT NULL
    ,PESO INT NOT NULL
    ,OBSERVACAO VARCHAR(80)
    ,STATUS CHAR(1) NOT NULL
    ,DATAREGISTRO TIMESTAMP NOT NULL
    ,DATAATUALIZACAO TIMESTAMP
)

CREATE TABLE ATLETAFREQUENCIA
(
    CODIGO DECIMAL(5) PRIMARY KEY
    ,CODIGO_ATLETA DECIMAL(5) NOT NULL
    ,CODIGO_FREQUENCIA DECIMAL(5) NOT NULL
    ,TIPO INT NOT NULL
    ,OBSERVACAO VARCHAR(60) NOT NULL
    ,STATUS CHAR(1) NOT NULL
    ,DATAREGISTRO TIMESTAMP NOT NULL
    ,DATAATUALIZACAO TIMESTAMP NULL
)
CREATE SEQUENCE ATLETAFREQUENCIA_CODIGO_SEQ
INCREMENT 1
MINVALUE 1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER TABLE ATLETAFREQUENCIA ALTER COLUMN CODIGO SET DEFAULT NEXTVAL('ATLETAFREQUENCIA_CODIGO_SEQ'::regclass);

ALTER TABLE ATLETAFREQUENCIA ADD CONSTRAINT FK_ATLETACODIGO
FOREIGN KEY (CODIGO_ATLETA) REFERENCES ATLETA (CODIGO) 
MATCH SIMPLE ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE ATLETAFREQUENCIA ADD CONSTRAINT FK_FREQUENCIACODIGO
FOREIGN KEY (CODIGO_FREQUENCIA) REFERENCES FREQUENCIA (CODIGO) 
MATCH SIMPLE ON UPDATE CASCADE ON DELETE CASCADE;

CREATE TABLE ATLETAANEXO
(
    CODIGO DECIMAL(5) PRIMARY KEY
    ,CODIGO_ATLETA DECIMAL(5) NOT NULL
    ,DESCRICAO VARCHAR(40) NOT NULL
    ,ARQUIVO BYTEA NOT NULL
    ,TIPOARQUIVO VARCHAR(8) NOT NULL
    ,STATUS CHAR(1) NOT NULL
    ,DATAREGISTRO TIMESTAMP NOT NULL
    ,DATAATUALIZACAO TIMESTAMP NULL
)
CREATE SEQUENCE ATLETAANEXO_CODIGO_SEQ
INCREMENT 1
MINVALUE 1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER TABLE ATLETAANEXO ALTER COLUMN CODIGO SET DEFAULT NEXTVAL('ATLETAANEXO_CODIGO_SEQ'::regclass);

ALTER TABLE ATLETAANEXO ADD CONSTRAINT FK_ATLETACODIGO
FOREIGN KEY (CODIGO_ATLETA) REFERENCES ATLETA (CODIGO) 
MATCH SIMPLE ON UPDATE CASCADE ON DELETE CASCADE;

CREATE TABLE LOG
(
    CODIGO DECIMAL(5) PRIMARY KEY
    ,DESCRICAO VARCHAR(100)NOT NULL
)
CREATE SEQUENCE LOG_CODIGO_SEQ
INCREMENT 1
MINVALUE 1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER TABLE LOG ALTER COLUMN CODIGO SET DEFAULT NEXTVAL('LOG_CODIGO_SEQ'::regclass);

CREATE TABLE USUARIO
(
	CODIGO DECIMAL(5) PRIMARY KEY
	,EMAIL VARCHAR(80) NOT NULL
	,SENHA VARCHAR(60) NOT NULL
	,NOME VARCHAR(40) NOT NULL
	,STATUS CHAR(1) NOT NULL
    ,DATAREGISTRO TIMESTAMP NOT NULL
    ,DATAATUALIZACAO TIMESTAMP NULL
)
CREATE SEQUENCE USUARIO_CODIGO_SEQ
INCREMENT 1
MINVALUE 1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER TABLE USUARIO ALTER COLUMN CODIGO SET DEFAULT NEXTVAL('USUARIO_CODIGO_SEQ'::regclass);
